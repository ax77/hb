/// assertion fail: (__test_src.txt:5) : [1 == 2]
/// 
/// The call-stack: 
///   main_class.main::stub.b:25
///   stub.b::ref.test__:16
///   ref.test__::assert_true:5

import std.natives.string::string;

class ref {
  int i;
  ref(){i=0;}
  void test__(){
    assert_true(1==2);
  }
}

class stub {
  int ref_count;
  ref r;
  stub(){ref_count=1;r=new ref();}
  
  void a(){}
  void b(){
    r.test__();
  }
}

class main_class {
  int main() {
    stub s = new stub();
    stub a = s;
    a.a();
    s.b();
    
    string str1 = "1.";
    
    return 0;
  }
}
